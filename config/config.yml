# This is default immortal config file.
# This config file contains essential information which is needed for bootstraping.
# The rest of configs such as limitations or NIP-11 profile must be changed on database config table,
# which is defined and documented on documents/config.md.

# todo(@ZigBalthazar): move development notes to documents directory and define development docker files.
# developers note: for development, set enviroment to `"dev"` and make a config.yml and .env beside your build.

# enviroment determines where and how to read secrets. (dev/prod)
# default is prod.
enviroment: "prod"

# server contains information about websocket server.
server:
  # bind is the IP address to be bind and listen on.
  # default if local host.
  bind: "127.0.0.1"
  # port is websocket port to be listen on.
  # default is 7777.
  port: 7777
  # known_bloom_size is the size of bloom filter to check and avoid trying to store/broadcast existing events.
  # default is 1M events.
  known_bloom_size: 1000000
  # bloom_backup_path is the path to store bloom filter when relay shutdown.
  # default is immo_bloom_backup.
  bloom_backup_path: "immo_bloom_backup"

# database contains details of database connections and limitations.
database:
  # max_open_conn is the number of open database connections.
  # default is 20 open database connections.
  max_open_conn: 20

  # Maximum number of idle connections in the pool.
  # default is 10 idle connections in the pool.
  max_idle_conn: 10

  # max_idle_conn_time is maximum time that an idle connection can stay in the pool.
  # default is 5 minutes.
  max_idle_conn_time: "5m"

  # max_conn_life_time is maximum lifetime of a database connection.
  # default is 1 hour.
  max_conn_life_time: "1h"
